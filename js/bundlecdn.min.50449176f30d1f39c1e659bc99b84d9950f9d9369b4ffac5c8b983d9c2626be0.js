(function(){for(var e,o=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=t.length,s=window.console=window.console||{};n--;)e=t[n],s[e]||(s[e]=o)})(),function(t){t("table tr td:first-child").on("click touch",function(){t(this).parent().toggleClass("active"),t(this).parent().siblings().removeClass("active")}),n=document.getElementsByTagName("table");for(i=0;i<n.length;i++){var n,o=n[i].getElementsByTagName("th"),a=n[i].getElementsByTagName("tr"),s=[],e;for(h=0;h<o.length;h++)s.push(o[h].textContent);for(r=0;r<a.length;r++){e=a[r].getElementsByTagName("td");for(c=0;c<e.length;c++)e[c].getAttribute("data-header")==void 0&&s[c]!==void 0&&e[c].setAttribute("data-header",s[c]),e[c].innerHTML.trim()=="Yes"&&(e[c].innerHTML='<i class="fa fa-check" aria-hidden="true" style="color:green"></i>'),e[c].innerHTML.trim()=="Free"&&(e[c].innerHTML='<i class="fa fa-check" aria-hidden="true" style="color:green"></i>'),e[c].innerHTML.trim()=="No"&&(e[c].innerHTML='<i class="fa fa-times" aria-hidden="true" style="color:red"></i>')}}}(jQuery);var toggles={".search-toggle":"#search-input",".lang-toggle":"#lang-menu",".share-toggle":"#share-menu",".nav-toggle":"#site-nav-menu"},idx,resultDetails,$searchResults,$searchInput;$.each(toggles,function(t,e){$(t).on("click",function(){$(e).hasClass("active")?($(".menu").removeClass("active"),$("#wrapper").removeClass("overlay")):($("#wrapper").addClass("overlay"),$(".menu").not($(e+".menu")).removeClass("active"),$(e).addClass("active"),e=="#search-input"&&$("#search-results").toggleClass("active"))})}),$(document).on("click",function(e){$(e.target).is(".lang-toggle, .lang-toggle span, #lang-menu, .share-toggle, .share-toggle i, #share-menu, .search-toggle, .search-toggle i, #search-input, #search-results .mini-post, .nav-toggle, .nav-toggle i, #site-nav")===!1&&($(".menu").removeClass("active"),$("#wrapper").removeClass("overlay"))}),$(window).scroll(function(){$(this).scrollTop()?$("#back-to-top").fadeIn():$("#back-to-top").fadeOut()}),$("#back-to-top").click(function(){return $("html, body").animate({scrollTop:0},1e3),!1}),idx=null,resultDetails=[],window.onload=function(){var e=new XMLHttpRequest,t,n,s='';$searchResults=document.getElementById("search-results"),$searchInput=document.getElementById("search-input"),t=document.documentElement.lang,n=["https://WangZichen99.github.io","index.json"],t!="en"&&n.splice(1,0,t),path=n.join("/"),e.open("GET",path,!0),e.onload=function(){if(e.status>=200&&e.status<400){var t=JSON.parse(e.responseText);idx=lunr(function(){this.ref("ref"),this.field("title"),this.field("data"),this.field("description"),this.field("body"),t.forEach(function(e){this.add(e),resultDetails[e.ref]={title:e.title,date:e.date,description:e.description}},this)})}else $searchResults.innerHTML='<article class="mini-post"><main><p>Error loading search results...</p></main></a></article>'},e.onerror=function(){$searchResults.innerHTML='<article class="mini-post"><main><p>Error loading search results...</p></main></a></article>'},e.send(),registerSearchHandler()};function registerSearchHandler(){$searchInput.oninput=function(e){var t=e.target.value,n=search(t);renderSearchResults(n),$searchInput.value==''&&($searchResults.innerHTML='')}}function renderSearchResults(e){var t=document.createElement("div");if(e.length>0)for(e.forEach(function(e){t.innerHTML+='<article class="mini-post"><a href="'+e.ref+'"><header><h2>'+resultDetails[e.ref].title+'</h2><time class="published" datetime="">'+resultDetails[e.ref].date+"</time></header><main><p>"+resultDetails[e.ref].description+"</p></main></a></article>"});$searchResults.hasChildNodes();)$searchResults.removeChild($searchResults.lastChild);else $searchResults.innerHTML='<article class="mini-post"><main><p>No Results Found...</p></main></a></article>';$searchResults.innerHTML=t.innerHTML}function search(e){return idx.search(e)}(function(){let e=document.querySelector(".new-comment");if(e){e.querySelector("#comment-form-submit").addEventListener("click",function(){e.classList.add("loading"),e.querySelector("#comment-form-submit").classList.add("hidden"),e.querySelector("#comment-form-submitted").classList.remove("hidden");let s='',d='',a='',h='',r='',c=["https:/",s,"v3/entry",d,a,h,r,"comments"].join("/"),l=Object.fromEntries(new FormData(e)),n={fields:{},options:{}};Object.entries(l).forEach(([e,s])=>{let t=e.indexOf("["),o=e.indexOf("reCaptcha");t==-1?n[e]=s:t==6||t==7&&o==-1?n[e.slice(0,t)][e.slice(t+1,-1)]=s:(n.options.reCaptcha=n.options.reCaptcha||{},n.options.reCaptcha[e.slice(o+11,-1)]=s)});let u=JSON.stringify(n),t=new XMLHttpRequest;t.open("POST",c),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){let e=t.status;e>=200&&e<400?o():i()}},t.send(u)});function o(){n("success"),setTimeout(function(){s()},3e3),e.classList.remove("loading")}function i(){n("failed"),e.classList.remove("loading")}function n(t){t=="success"?(e.querySelector(".submit-success").classList.remove("hidden"),e.querySelector(".submit-failed").classList.add("hidden")):(e.querySelector(".submit-success").classList.add("hidden"),e.querySelector(".submit-failed").classList.remove("hidden")),e.querySelector("#comment-form-submit").classList.remove("hidden"),e.querySelector("#comment-form-submitted").classList.add("hidden")}function s(){t(),e.querySelector(".submit-success").classList.add("hidden"),e.querySelector(".submit-failed").classList.add("hidden")}function t(){e.querySelector(".reply-notice .reply-name").innerText='',e.querySelector(".reply-notice").classList.add("hidden"),Array.from(e.elements).filter(e=>e.name.indexOf("fields[reply")===0).forEach(e=>e.value='')}document.querySelector(".comments-container").addEventListener("click",function(s){let n=s.target;if(n.matches(".comment-reply-btn")){t();let s=n;for(;!s.matches(".comment");)s=s.parentNode;e.querySelector('input[name="fields[replyThread]"]').value=s.dataset.replyThread,e.querySelector('input[name="fields[replyID]"]').value=s.getAttribute("id");let o=s.querySelector(".comment-author").innerText;e.querySelector('input[name="fields[replyName]"]').value=o,e.querySelector(".reply-notice").classList.remove("hidden"),e.querySelector(".reply-name").innerText=o}}),e.querySelector(".reply-close-btn").addEventListener("click",t),e.querySelector("#comment-form-reset").addEventListener("click",s)}})()